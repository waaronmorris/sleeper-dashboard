# Sleeper Fantasy Analytics Dashboard

An advanced analytics dashboard for Sleeper fantasy football leagues built with Observable Framework.

## Features

- **League Overview**: Current standings, points distribution, and team performance metrics
- **Player Analytics**: Deep dive into player performance, trends, and projections
- **Matchup Analysis**: Week-by-week matchup breakdowns with win probability predictions
- **AI-Powered Weekly Summaries**: Automated weekly recaps in the voice of famous sports commentators (Pat McAfee, Lee Corso, Stuart Scott, Scott Van Pelt, Rich Eisen, Dan Patrick)
- **Atrocity Tracker**: Identify the worst lineup decisions with entertaining commentary
- **Trade Analyzer**: Evaluate trade proposals with advanced metrics
- **Historical Trends**: Season-long analytics and performance tracking

## Setup

1. Install dependencies:
```bash
npm install
```

2. Configure your environment variables:
```bash
cp .env.example .env
# Edit .env and add:
# - Your Sleeper League ID
# - Your Anthropic API key (for AI summaries)
```

3. Start the development server:
```bash
npm run dev
```

4. Open your browser to `http://localhost:3000`

## Finding Your League ID

Your Sleeper League ID can be found in your league URL:
```
https://sleeper.com/leagues/YOUR_LEAGUE_ID
```

## Building for Production

```bash
npm run build
```

The built site will be in the `dist/` directory, ready to deploy to any static hosting service.

## Data Sources

This dashboard uses the Sleeper API to fetch:
- League settings and metadata
- Team rosters and standings
- Player information and statistics
- Matchup history and results

Data is automatically cached and refreshed during development.

## AI-Powered Weekly Summaries

This dashboard features automated weekly matchup summaries generated by Claude AI in the voice of famous sports commentators.

### Automated Generation

Summaries are automatically generated every Monday at 10 AM UTC via GitHub Actions:
1. Fetches latest matchup and atrocity data
2. Generates summaries for any new weeks
3. Commits and pushes the summaries
4. Triggers automatic deployment

### Manual Generation

Generate summaries manually:
```bash
npm run build
npm run generate-summaries        # Generate all missing weeks
npm run generate-summary 7        # Generate specific week
```

### Setup GitHub Automation

Add these secrets to your GitHub repository (Settings > Secrets and variables > Actions):
- `ANTHROPIC_API_KEY`: Your Anthropic API key
- `SLEEPER_LEAGUE_ID`: Your Sleeper league ID (optional, defaults to value in code)

See [WEEKLY_SUMMARIES.md](WEEKLY_SUMMARIES.md) for detailed documentation.

## Technology

Built with:
- [Observable Framework](https://observablehq.com/framework/) - Static site generator for data apps
- [Observable Plot](https://observablehq.com/plot/) - Visualization library
- [Sleeper API](https://docs.sleeper.com/) - Fantasy football data
- [Claude AI](https://www.anthropic.com/claude) - AI-powered weekly summaries

## Support This Project

If you find this dashboard useful for your league, consider supporting its development:

[![Buy Me A Coffee](https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png)](https://buymeacoffee.com/waaronmorris)

Your support helps cover:
- AI API costs for weekly summaries
- Ongoing development and new features
- Server and infrastructure costs

## Contributing

Contributions are welcome! Feel free to:
- Report bugs or issues
- Suggest new features or analytics
- Submit pull requests
- Share with your fantasy football leagues

## License

MIT License - feel free to use and modify for your own leagues!
